{"mappings":"gfACAA,EAAA,S,4CAMA,IAEsBC,EAFhBC,EAAmBC,SAASC,cAAc,kBAC1CC,EAAgBF,SAASC,cAAc,gBACvCE,EAA4D,QAA5CL,EAAAM,KAAKC,MAAMC,aAAaC,QAAQ,oBAAY,IAA5CT,IAAgD,GACtEU,QAAQC,IAAIN,EAAcO,OAAO,GAUjC,SAAsBC,EAAKC,GACzB,IAAIC,EAEFA,EADEF,EAAID,OACGC,EACNG,KACC,SAAAC,G,IACEC,EAAGD,EAAHC,IACAC,EAAMF,EAANE,OACAC,EAASH,EAATG,UACAC,EAAKJ,EAALI,MACAC,EAAUL,EAAVK,WACAC,EAAWN,EAAXM,YACAC,EAASP,EAATO,U,MACI,kCAEwCC,OAFNP,EAAI,+DAEsBO,OAApBH,EAAW,WAE1BG,OAFmCJ,EAAM,yGAGvCI,OADFJ,EAAM,kDAEPI,OADGL,EAAU,8CAGPK,OAFNF,EAAY,oGAIHE,OAFHN,EAAO,0DAEsBM,OAwCzE,SAAwBZ,GACtB,OAAOA,EACJG,KAAI,SAAAU,GACH,MAAkB,WAAdA,EAAKC,KACA,6CACUF,OAATC,EAAKE,IAAI,2JAOD,gBAAdF,EAAKC,KACA,8CACWF,OAATC,EAAKE,IAAI,oJAMF,aAAdF,EAAKC,KACA,4CACSF,OAATC,EAAKE,IAAI,wJAFlB,C,IAUDC,KAAK,G,CAtEqCC,CAAeN,GAAW,upB,IA0BlEK,KAAK,IAEE,uPAKZf,EAAiBiB,UAAYhB,C,CA/D/BiB,CAAa3B,EAAeJ,GAEzBI,EAAcO,OAAO,GACtBR,EAAc6B,iBAAiB,SA+DjC,SAAoBC,GAClBA,EAAIC,gB","sources":["src/js/shopping_list.js"],"sourcesContent":["\nimport './home__support';\nimport './dark-theme';\nimport './modal-window/modal';\nimport './header';\nimport './auth';\n\nconst selectedBookList = document.querySelector('.shopping-list');\nconst removeBookBtn = document.querySelector('.remove-book');\nconst selectedBooks = JSON.parse(localStorage.getItem('selected')) ?? [];\nconsole.log(selectedBooks.length>0);\n\n\ncreateMarkup(selectedBooks, selectedBookList);\n\nif(selectedBooks.length>0){\n  removeBookBtn.addEventListener('click', removeBook);\n}\n\n\nfunction createMarkup(arr, selectedBookList) {\n  let markup;\n  if (arr.length) {\n    markup = arr\n      .map(\n        ({\n          _id,\n          author,\n          list_name,\n          title,\n          book_image,\n          description,\n          buy_links,\n        }) => ` <li class=\"book-card data-id=\"${_id}\" >\n\n          <div class=\"book-image-wrapper\"><img src=\"${book_image}\" alt=\"${title}\" class=\"book-image\"></div>\n          <div class=\"book-info\">\n              <h2 class=\"book-title\">${title}</h2>\n              <p class=\"book-category\">${list_name}</p>\n              <p class=\"book-descr\">${description}</p>\n              <div class=\"card-inner-wrapper\">\n                  <h3 class=\"book-author\">${author}</h3>\n\n                  <ul class=\"buy-links-list\">${createBuyLinks(buy_links)}</ul>  \n\n                  <div class=\"buy-links-wrapper\">\n                  <svg class=\"buy-link\">\n      <use href=\"./images/icons.svg#icon-trash\"></use>\n    </svg>\n    <svg class=\"buy-link\">\n      <use href=\"./images/icons.svg#icon-trash\"></use>\n    </svg>\n    <svg class=\"buy-link\">\n      <use href=\"./images/icons.svg#icon-trash\"></use>\n    </svg>\n                  </div>\n\n              </div>\n              <button type=\"button\" class=\"remove-book\">\n              <svg class=\"remove-image\">\n      <use href=\"./images/icons.svg#icon-trash\"></use>\n    </svg>\n              </button>\n          </div>\n          \n          \n      </li>`\n\n      )\n      .join('');\n  } else {\n    markup = `<li class=\"empty-list-card\">\n      <p class=\"empty-list-text\">This page is empty, add some books and proceed to order.</p>\n      <img src=\"./images/shopping-list/list-placeholder.webp\" alt=\"No books added\" class=\"empty-list-image\">\n    </li>`;\n  }\n  selectedBookList.innerHTML = markup;\n}\n\nfunction removeBook(evt) {\n  evt.preventDefault();\n}\n\nfunction createBuyLinks(arr) {\n  return arr\n    .map(data => {\n      if (data.name === 'Amazon') {\n        return `<li class=\"buy-link-item\">\n      <a href=${data.url} target=\"_blank\">\n      <svg class=\"buy-link amazon\">\n      <use href=/src/images/icons.svg#icon-amazon></use>\n      </svg></a>\n      </li>\n      `;\n      }\n      if (data.name === 'Apple Books') {\n        return `<li class=\"buy-link-item\">\n      <a href=\"${data.url}\" target=\"_blank\">\n      <svg class=\"buy-link apple\">\n      <use href=\"/src/images/icons.svg#icon-apple\"></use>\n      </svg></a>\n      </li>`;\n      }\n      if (data.name === 'Bookshop') {\n        return `<li class=\"buy-link-item\">\n    <a href=\"${data.url}\" target=\"_blank\">\n    <svg class=\"buy-link bookshop\">\n    <use href=\"/src/images/icons.svg#bookshop\"></use>\n    </svg></a>\n    </li>\n    `;\n      }\n    })\n    .join('');\n}\n\nfunction findBook(elem) {\n  const bookId = elem.closest('.book-card').dataset.id;\n  return selectedBooks.find(({ id }) => id === bookId);\n}\n\n"],"names":["parcelRequire","$6a7cd2c6e39da374$var$ref","$6a7cd2c6e39da374$var$selectedBookList","document","querySelector","$6a7cd2c6e39da374$var$removeBookBtn","$6a7cd2c6e39da374$var$selectedBooks","JSON","parse","localStorage","getItem","console","log","length","arr","selectedBookList1","markup","map","param","_id","author","list_name","title","book_image","description","buy_links","concat","data","name","url","join","$6a7cd2c6e39da374$var$createBuyLinks","innerHTML","$6a7cd2c6e39da374$var$createMarkup","addEventListener","evt","preventDefault"],"version":3,"file":"shopping-list.cf5e7eea.js.map"}