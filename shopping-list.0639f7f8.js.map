{"mappings":"oeACAA,EAAA,S,4CAMA,MAAMC,EAAmBC,SAASC,cAAc,kBAC1CC,EAAgBF,SAASC,cAAc,gB,IACvBE,EAAtB,MAAMC,EAA4D,QAA5CD,EAAAE,KAAKC,MAAMC,aAAaC,QAAQ,oBAAY,IAA5CL,IAAgD,GACtEM,QAAQC,IAAIN,EAAcO,OAAO,GAUjC,SAAsBC,EAAKC,GACzB,IAAIC,EAEFA,EADEF,EAAID,OACGC,EACNG,KACC,EAACC,IACCA,EAAGC,OACHA,EAAMC,UACNA,EAASC,MACTA,EAAKC,WACLA,EAAUC,YACVA,EAAWC,UACXA,KACI,kCAAkCN,+DAEMI,WAAoBD,yGAEnCA,kDACED,8CACHG,oGAEMJ,0DA0C5C,SAAwBL,GACtB,OAAOA,EACJG,KAAIQ,GACe,WAAdA,EAAKC,KACA,6CACCD,EAAKE,6JAOG,gBAAdF,EAAKC,KACA,8CACED,EAAKE,sJAME,aAAdF,EAAKC,KACA,4CACAD,EAAKE,0JAFd,IAUDC,KAAK,G,CAtEqCC,CAAeL,2pBA0BvDI,KAAK,IAEC,uPAKXb,EAAiBe,UAAYd,C,CA/D/Be,CAAazB,EAAeL,GAEzBK,EAAcO,OAAO,GACtBT,EAAc4B,iBAAiB,SA+DjC,SAAoBC,GAClBA,EAAIC,gB","sources":["src/js/shopping_list.js"],"sourcesContent":["\nimport './home__support';\nimport './dark-theme';\nimport './modal-window/modal';\nimport './header';\nimport './auth';\n\nconst selectedBookList = document.querySelector('.shopping-list');\nconst removeBookBtn = document.querySelector('.remove-book');\nconst selectedBooks = JSON.parse(localStorage.getItem('selected')) ?? [];\nconsole.log(selectedBooks.length>0);\n\n\ncreateMarkup(selectedBooks, selectedBookList);\n\nif(selectedBooks.length>0){\n  removeBookBtn.addEventListener('click', removeBook);\n}\n\n\nfunction createMarkup(arr, selectedBookList) {\n  let markup;\n  if (arr.length) {\n    markup = arr\n      .map(\n        ({\n          _id,\n          author,\n          list_name,\n          title,\n          book_image,\n          description,\n          buy_links,\n        }) => ` <li class=\"book-card data-id=\"${_id}\" >\n\n          <div class=\"book-image-wrapper\"><img src=\"${book_image}\" alt=\"${title}\" class=\"book-image\"></div>\n          <div class=\"book-info\">\n              <h2 class=\"book-title\">${title}</h2>\n              <p class=\"book-category\">${list_name}</p>\n              <p class=\"book-descr\">${description}</p>\n              <div class=\"card-inner-wrapper\">\n                  <h3 class=\"book-author\">${author}</h3>\n\n                  <ul class=\"buy-links-list\">${createBuyLinks(buy_links)}</ul>  \n\n                  <div class=\"buy-links-wrapper\">\n                  <svg class=\"buy-link\">\n      <use href=\"./images/icons.svg#icon-trash\"></use>\n    </svg>\n    <svg class=\"buy-link\">\n      <use href=\"./images/icons.svg#icon-trash\"></use>\n    </svg>\n    <svg class=\"buy-link\">\n      <use href=\"./images/icons.svg#icon-trash\"></use>\n    </svg>\n                  </div>\n\n              </div>\n              <button type=\"button\" class=\"remove-book\">\n              <svg class=\"remove-image\">\n      <use href=\"./images/icons.svg#icon-trash\"></use>\n    </svg>\n              </button>\n          </div>\n          \n          \n      </li>`\n\n      )\n      .join('');\n  } else {\n    markup = `<li class=\"empty-list-card\">\n      <p class=\"empty-list-text\">This page is empty, add some books and proceed to order.</p>\n      <img src=\"./images/shopping-list/list-placeholder.webp\" alt=\"No books added\" class=\"empty-list-image\">\n    </li>`;\n  }\n  selectedBookList.innerHTML = markup;\n}\n\nfunction removeBook(evt) {\n  evt.preventDefault();\n}\n\nfunction createBuyLinks(arr) {\n  return arr\n    .map(data => {\n      if (data.name === 'Amazon') {\n        return `<li class=\"buy-link-item\">\n      <a href=${data.url} target=\"_blank\">\n      <svg class=\"buy-link amazon\">\n      <use href=/src/images/icons.svg#icon-amazon></use>\n      </svg></a>\n      </li>\n      `;\n      }\n      if (data.name === 'Apple Books') {\n        return `<li class=\"buy-link-item\">\n      <a href=\"${data.url}\" target=\"_blank\">\n      <svg class=\"buy-link apple\">\n      <use href=\"/src/images/icons.svg#icon-apple\"></use>\n      </svg></a>\n      </li>`;\n      }\n      if (data.name === 'Bookshop') {\n        return `<li class=\"buy-link-item\">\n    <a href=\"${data.url}\" target=\"_blank\">\n    <svg class=\"buy-link bookshop\">\n    <use href=\"/src/images/icons.svg#bookshop\"></use>\n    </svg></a>\n    </li>\n    `;\n      }\n    })\n    .join('');\n}\n\nfunction findBook(elem) {\n  const bookId = elem.closest('.book-card').dataset.id;\n  return selectedBooks.find(({ id }) => id === bookId);\n}\n\n"],"names":["parcelRequire","$bad122fcaab182c2$var$selectedBookList","document","querySelector","$bad122fcaab182c2$var$removeBookBtn","$bad122fcaab182c2$var$ref","$bad122fcaab182c2$var$selectedBooks","JSON","parse","localStorage","getItem","console","log","length","arr","selectedBookList1","markup","map","_id","author","list_name","title","book_image","description","buy_links","data","name","url","join","$bad122fcaab182c2$var$createBuyLinks","innerHTML","$bad122fcaab182c2$var$createMarkup","addEventListener","evt","preventDefault"],"version":3,"file":"shopping-list.0639f7f8.js.map"}