{"mappings":"kpBAsBA,IAAAA,EACAC,E,iJArBA,IAAIC,EAAU,GAoBdF,EAlBA,SAAkBG,GAGhB,IAFA,IAAIC,EAAOC,OAAOD,KAAKD,GAEdG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BJ,EAAQE,EAAKE,IAAMH,EAAMC,EAAKE,G,EAelCL,EAXA,SAAiBO,GACf,IAAIC,EAAWP,EAAQM,GAEvB,GAAgB,MAAZC,EACF,MAAM,IAAIC,MAAM,oCAAsCF,GAGxD,OAAOC,C,KCnBTE,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,yUCAzDH,EAAA,S,uCCAAI,EAAiB,IAAAC,IAAoBL,EAAA,SAAAM,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,W,MCA5FC,EAAiB,IAAAN,IAAoBL,EAAA,SAAAM,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,W,MCA5FE,EAAiB,IAAAP,IAAoBL,EAAA,SAAAM,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,W,MHa3EG,EIbjBC,EAAiB,IAAAT,IAAoBL,EAAA,SAAAM,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,WJW5F,MAAMK,EAAO,CACXC,iBAAkBC,SAASC,cAAc,kBACzCC,cAA6D,QAA9CN,EAAAX,KAAKC,MAAMiB,aAAaC,QAAQ,sBAAc,IAA9CR,IAAkD,IASnE,SAASS,EAAaC,GACpB,IAAIC,EA4DL,OA1DGA,EADED,EAAI3B,OACG2B,EACNE,KACC,EAAC5B,GACCA,EAAE6B,OACFA,EAAMC,SACNA,EAAQC,MACRA,EAAKC,MACLA,EAAKC,YACLA,EAAWC,MACXA,KACI,mCAAmClC,yEAE3BgC,WAAeD,2CAA+CI,EAAArB,uFAE7CiB,kDACED,8CACHG,oGAEMJ,sLAIfK,EAAM,uGAEJC,EAAApB,2JAIFmB,EAAM,sGAEJC,EAAApB,0JAIFmB,EAAM,oDACNC,EAAAlB,uRAOVkB,EAAApB,0IAQZqB,KAAK,IAEC,+IAEID,EAAA5B,iEAITW,EAAKC,iBAAiBkB,UAAYV,C,CAnE1CF,EAAaP,EAAKI,cAAeJ,EAAKC,kBAElCD,EAAKI,cAAcvB,OAAS,GAC9BmB,EAAKC,iBAAiBmB,iBAAiB,SAmEzC,SAAoBC,GAClB,GAA8B,iBAA3BA,EAAIC,OAAOC,UAAU,IAAkD,gBAA3BF,EAAIC,OAAOC,UAAU,IAAiD,gBAA3BF,EAAIC,OAAOC,UAAU,GAAoB,CACjI,IAAIC,EAQR,SAAkBC,GAChB,IAAIC,EAASD,EAAKE,QAAQ,cAAcC,QAAQ9C,GAChD,OAAOkB,EAAKI,cAAcyB,WAAUC,GAAOA,EAAKhD,KAAO4C,G,CAVrCK,CAASV,EAAIC,QAC7BtB,EAAKI,cAAc4B,OAAOR,EAAW,GACrCnB,aAAa4B,QAAQ,aAAc9C,KAAK+C,UAAUlC,EAAKI,gBACvDG,EAAaP,EAAKI,cAAeJ,EAAKC,iB","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-a7b3e246a1f59470.js","src/js/shopping_list.js","node_modules/@parcel/runtime-js/lib/runtime-4e11fe9fe7232d66.js","node_modules/@parcel/runtime-js/lib/runtime-1fae7830c6ed5d82.js","node_modules/@parcel/runtime-js/lib/runtime-44e7bd74d9a8b620.js","node_modules/@parcel/runtime-js/lib/runtime-e708e2779831e573.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"8u1j0\\\":\\\"shopping-list.06a6e051.js\\\",\\\"bXyBy\\\":\\\"list-placeholder.70b62013.webp\\\",\\\"ckFS0\\\":\\\"book-image-placeholder.d27c7981.webp\\\",\\\"8OQ7p\\\":\\\"icons.8646d043.svg\\\",\\\"5Ep3P\\\":\\\"bookshop.579c7059.png\\\",\\\"1u0XG\\\":\\\"shopping-list.176a2e59.js\\\"}\"));","import './home__support';\nimport './dark-theme';\n// import './modal-window/modal';\nimport './header';\nimport './auth';\n\nimport noBooksImage from '../images/shopping-list/list-placeholder.webp';\nimport bookImagePlaceholder from '../images/shopping-list/book-image-placeholder.webp';\nimport svgIcons from '../images/icons.svg';\nimport bookShopIcon from '../images/bookshop.png';\n\nconst refs = {\n  selectedBookList: document.querySelector('.shopping-list'),\n  selectedBooks: JSON.parse(localStorage.getItem('booksToBuy')) ?? [],\n};\n\ncreateMarkup(refs.selectedBooks, refs.selectedBookList);\n\nif (refs.selectedBooks.length > 0) {\n  refs.selectedBookList.addEventListener('click', removeBook);\n}\n\nfunction createMarkup(arr) {\n  let markup;\n  if (arr.length) {\n    markup = arr\n      .map(\n        ({\n          id,\n          author,\n          category,\n          title,\n          image,\n          description,\n          links,\n        }) => ` <li class=\"book-card\" data-id=\"${id}\" >\n          <div class=\"book-image-wrapper\">\n          <img src=\"${image}\" alt=\"${title}\" class=\"book-image\" onerror=\"this.src=${bookImagePlaceholder}\"></div>\n          <div class=\"book-info\">\n              <h2 class=\"book-title\">${title}</h2>\n              <p class=\"book-category\">${category}</p>\n              <p class=\"book-descr\">${description}</p>\n              <div class=\"card-inner-wrapper\">\n                  <h3 class=\"book-author\">${author}</h3>\n                  <div class=\"buy-links-wrapper\">\n                  <ul class=\"buy-links-list\">\n                  <li class=\"buy-link-item\">\n                  <a href=\"${links[0]}\" target=\"_blank\">\n                  <svg class=\"buy-link amazon\">\n                  <use href=\"${svgIcons}#icon-amazon\"></use>\n                  </svg></a>\n                  </li>\n                  <li class=\"buy-link-item\">\n                  <a href=\"${links[1]}\" target=\"_blank\">\n                  <svg class=\"buy-link apple\">\n                  <use href=\"${svgIcons}#icon-apple\"></use>\n                  </svg></a>\n                  </li>\n                  <li class=\"buy-link-item\">\n                  <a href=\"${links[2]}\" target=\"_blank\">\n                  <img src=${bookShopIcon} alt=\"No books added\" class=\"buy-link bookshop\"></a>\n                  </li>\n                  </ul> \n                  </div>\n                  </div>\n              <button type=\"button\" class=\"remove-book\">\n              <svg class=\"remove-image\">\n      <use href=\"${svgIcons}#icon-trash\" class=\"remove-icon\"></use>\n    </svg>\n              </button>\n          </div>\n          \n          \n      </li>`\n      )\n      .join('');\n  } else {\n    markup = `<li class=\"empty-list-card\">\n      <p class=\"empty-list-text\">This page is empty, add some books and proceed to order.</p>\n      <img src=${noBooksImage} alt=\"No books added\" class=\"empty-list-image\">\n\n    </li>`;\n  }\n return refs.selectedBookList.innerHTML = markup;\n}\n\nfunction removeBook(evt) {\n  if(evt.target.classList[0] ==='remove-image'|| evt.target.classList[0] ==='remove-icon'|| evt.target.classList[0] ==='remove-book'){\n    let bookIndex = findBook(evt.target);\n    refs.selectedBooks.splice(bookIndex, 1);\n    localStorage.setItem('booksToBuy', JSON.stringify(refs.selectedBooks));\n    createMarkup(refs.selectedBooks, refs.selectedBookList); \n  }\n  };\n  \n\nfunction findBook(elem) {\n  let bookId = elem.closest('.book-card').dataset.id;\n  return refs.selectedBooks.findIndex(book =>book.id === bookId);\n}\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"bXyBy\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"ckFS0\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"8OQ7p\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"5Ep3P\")).toString();"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$3857ec3a681329dd$exports","URL","resolve","import","meta","url","toString","$f9c704d7a3ca2206$exports","$e27edc6dc33d0133$exports","$bad122fcaab182c2$var$ref","$1b641b712ea7c913$exports","$bad122fcaab182c2$var$refs","selectedBookList","document","querySelector","selectedBooks","localStorage","getItem","$bad122fcaab182c2$var$createMarkup","arr","markup","map","author","category","title","image","description","links","$parcel$interopDefault","join","innerHTML","addEventListener","evt","target","classList","bookIndex","elem","bookId","closest","dataset","findIndex","book","$bad122fcaab182c2$var$findBook","splice","setItem","stringify"],"version":3,"file":"shopping-list.06a6e051.js.map"}